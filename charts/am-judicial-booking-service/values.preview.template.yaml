java:
  image: ${IMAGE_NAME}
  ingressHost: ${SERVICE_FQDN}
  keyVaults:
    am:
      secrets:
        - am-judicial-booking-service-s2s-secret
        - AppInsightsInstrumentationKey
  environment:
    AM_JUDICIAL_BOOKING_DB_HOST: "{{ .Release.Name }}-postgresql"
    AM_JUDICIAL_BOOKING_DB_NAME: "{{ .Values.postgresql.postgresqlDatabase}}"
    AM_JUDICIAL_BOOKING_DB_USERNAME: "{{ .Values.postgresql.postgresqlUsername}}"
    AM_JUDICIAL_BOOKING_DB_PASSWORD: "{{ .Values.postgresql.postgresqlPassword}}"
    AM_JUDICIAL_BOOKING_DB_PORT: "{{ .Values.postgresql.postgresqlPort}}"
    AM_JUDICIAL_BOOKING_DB_OPTIONS: "?stringtype=unspecified"
    AM_JUDICIAL_BOOKING_DB_MAX_POOL_SIZE: 10
    IDAM_S2S_URL: http://rpe-service-auth-provider-{{ .Values.global.environment }}.service.core-compute-{{ .Values.global.environment }}.internal
  postgresql:
    enabled: true
    postgresqlUsername: am
    postgresqlPassword: am
    postgresqlDatabase: judicial_booking
    postgresqlPort: 5432
